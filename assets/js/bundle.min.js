<<<<<<< HEAD
"use strict";function getRGB(e){return-1!=e.indexOf("rgb")?e:-1!=e.indexOf("#")?hex2rgb(e):colorName2rgb(e)}function updateFeedbackItemsSimplified(){var e=$(".feedback-items.active").length;$(".feedback-items").removeClass("active"),$.each(window.tanjaArray,function(e,t){1==t.solved&&$(".feedback-items").not(".active").last().addClass("active")}),e<$(".feedback-items.active").length&&handleAudio("correct_audio"),$(".feedback-items.active").length==number_of_examples&&($("#bucketsWrapper").addClass("disabled"),$("#wrapper").addClass("disabled"),setTimeout(function(){var e=Math.floor(2*Math.random());handleAudio("congratulations-"+e)},500),setTimeout(function(){$(".finalGreeting").removeClass("off").addClass("on")},2927))}function playAgain(){$(".finalGreeting").removeClass("on").addClass("off"),$("#bucketsWrapper").removeClass("disabled"),$("#wrapper").removeClass("disabled"),$("#mainImage").empty(),$(".buckets").removeClass("solved missed"),$(".feedback-items").removeClass("active"),$("#bucketsWrapper .buckets:nth-child(1)").trigger("click"),loadMainImage(backgroundToBeColored)}function rgb2hex(e){function t(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}for(var n,o=e.toString().split(","),r=o[0],a=r.slice(4,r.length),i=parseInt(a,"10"),s=t(i.toString(16),2),d=o[1],l=d.slice(1,d.length),c=parseInt(l,"10"),u=t(c.toString(16),2),g=o[2],p=g.slice(1,g.length-1),f=parseInt(p,"10"),h=t(f.toString(16),2),m=i,w=c,b=f,v=[m,w,b],k=0,C=v[k],$=256,y=0;y<v.length;y++)v[y]>v[k]&&(C=v[k=y]),v[y]<$&&($=v[y]);return n=1==k?(w-b)/(C-$):2==k?2+(b-m)/(C-$):4+(m-w)/(C-$),isNaN(n)&&(n=6-(m+w+b)/5120),{hex:"#"+s+u+h,hue:n}}function hex2rgb(e){if(4==e.length){(n=/^#?([a-f\d]{1})([a-f\d]{1})([a-f\d]{1})$/i.exec(e))[1]+=n[1],n[2]+=n[2],n[3]+=n[3];var t="";return t+="rgb(",t+=parseInt(n[1],16),t+=", ",t+=parseInt(n[2],16),t+=", ",t+=parseInt(n[3],16),t+=")"}var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);t="";return t+="rgb(",t+=parseInt(n[1],16),t+=", ",t+=parseInt(n[2],16),t+=", ",t+=parseInt(n[3],16),t+=")"}!function(){function t(e){FastClick.attach(document.body);try{e.parameters.background_color[0].value,l=e.parameters.background_image[0].value,c=e.parameters.background_size[0].value,u=e.parameters.background_position[0].value,p=e.parameters.header_allCaps[0].value,f=e.parameters.header_fontBold[0].value,h=e.parameters.header_textAlignCenter[0].value,m=e.parameters.header_fontSize[0].value,b=e.parameters.congratulations_bgr_color[0].value,_=e.parameters.uncoloredImgColor[0].value,window.uncoloredImgColor=_,d=e.texts.page_title[0].written,g=e.texts.header_text[0].written}catch(e){}var t;!function(){if($("#mainImage").css({"background-color":_}),0<I.length)try{$("body").css({"background-image":I,"background-size":c,"background-position":u})}catch(e){}else try{$("body").css({"background-size":c,"background-position":u,"background-image":l})}catch(e){}}(),function(){document.title=d,$("#headingWrapper #heading p").html(g),"TRUE"==p.toUpperCase()&&$("#headingWrapper #heading p").css({"text-transform":"uppercase"});"TRUE"==f.toUpperCase()&&$("#headingWrapper #heading p").css({"font-weight":"bold"});"TRUE"==h.toUpperCase()&&$("#headingWrapper #heading p").css({"text-align":"center"});$("#headingWrapper #heading p").css({"font-size":m+"px"})}(),$(".finalGreeting").css({"background-color":b,"background-image":"url("+C+")",width:"100%",height:"100%","background-repeat":"no-repeat","background-size":"50% auto"}),$(".finalGreeting .finalGreeting_button_playagain").css({"background-image":"url("+y+")"}),window.bucketColors=W,window.number_of_examples=T,loadMainImage(w),$.when(function(){var e=new createjs.LoadQueue;createjs.Sound.alternateExtensions=["mp3"],e.installPlugin(createjs.Sound),e.on("complete",function(e){n.resolve("sounds ready")}),e.on("error",o);for(var t=0;t<k.length;t++)e.loadFile({id:"congratulations-"+t,src:k[t].uri});v.length&&e.loadFile({id:"instructions_audio",src:v});e.loadFile({id:"correct_audio",src:x});var n=$.Deferred();return n.promise()}(),(t=$.Deferred(),setTimeout(function(){t.resolve("preloader timeout passed")},s),t.promise())).done(function(){$(".preloader-wrapper").removeClass("active"),handleAudio("instructions_audio"),setTimeout(function(){TweenMax.staggerTo($(".buckets"),.05,{left:"0px"},-.06)},65),setTimeout(function(){$("#bucketsWrapper .buckets:nth-child(1)").trigger("click"),$("#wrapper").removeClass("disabled")},100)})}function n(e){window.audioCurrentlyPlaying=!1}function o(e){}function a(e){this.hex=e,this.usedIn=[],this.solved=!1}function r(){if(!(0<$(".buckets").length)){$.each(W,function(e,t){var n=new a(t.hex);F.push(n)}),window.myBuckets=F,T=B.length,window.number_of_examples=T,S=W[0];var r=new Array;!function(n){for(var o=0,e=function(t){$("#bucketsWrapper").append("<div class='buckets' id='bucket_"+t+"'></div>");var e=$("#bucket_"+t);e.css({left:-$(window).width()+"px"}),$(e).append("<div class='bucket__label'>"+E[t]+"</div>"),Snap.load("assets/images/stanjak_v.svg",function(e){o++,r[t]=e,o>=n.length&&function(e){for(var t=void 0,n=function(n){Snap("#bucket_"+n).append(r[n]),t=Snap("#bucket_"+n+" #colored").selectAll("path"),$.each(t,function(e,t){Snap(t.node).attr("fill",F[n].hex)})},o=0;o<e.length;o++)n(o)}(r)})},t=0;t<n.length;t++)e(t);!function(e){for(var t=0;t<e;t++)$("#feedbackWrapper #feedbackContent").append("<div class='feedback-items'></div>")}(T)}(W),$(".buckets").on("click",function(e,t){A=F[$(this).index()].hex,e,$(".buckets").removeClass("active"),$(this).addClass("active"),window.drawingColor=S,window.drawingColorIndex=A})}}(new Date).getTime(),performance.timing.navigationStart;var e=window.performance.timing,i=-(e.loadEventEnd-e.navigationStart),s=100*parseInt(i/1e3%60);$(".loadbar").animate({width:"100%"},s);var d,l,c,u,g,p,f,h,m,w,b,v,k,C,y,x,I,_,S,A,j="settings.json",T=0,W=[];window.audioCurrentlyPlaying=!1,window.bucketColors;var F=[];window.stage=[],window.stage=[1,2,3,4,5,6,7,8,9,10],$.getJSON("files.json").done(function(e){w=e.backgroundToBeColored,window.backgroundToBeColored=w;try{v=e.supportFiles.instructions_audio[0].uri,k=e.supportFiles.congratulations_audio,window.congratulations_audio_length=k.length,C=e.supportFiles.congratulations_image[0].uri,y=e.supportFiles.congratulations_button[0].uri,x=e.supportFiles.correct_audio[0].uri,I=e.supportFiles.background_image_from_url[0].uri}catch(e){}$.getJSON(j).done(t).fail(function(e){})}).fail(function(e){});var B=[];window.tanjaArray;var E=[];window.loadMainImage=function(e){B=[];var d=[["","1:1"],["","8:4"],["","12:6"],["","57:19"],["","28:7"],["","9:9"],["","27:9"],["","12:4"],["","20:5"],["","12:3"],["","16:4"],["","25:5"],["","36:6"],["","42:7"],["","28:4"],["","49:7"],["","35:5"],["","24:3"],["","90:10"],["","81:9"],["","100:10"]];E=[1,2,3,4,5,6,7,8,9,10],window.tanjaArray=[];var t=Snap("#mainImage");Snap.load(e,function(e){t.append(e),Snap("#mainImage svg title").remove(),$.each(Snap("#mainImage").selectAll("g[id^=g]"),function(e,t){var n=this.node.id,o=(t.node.children[0],t.node.children[0].id),r=t.node.children[1],a=Snap(t).node.children[0].style.fill;null!=a.match(/^(rgb|hsl)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/)&&(a=rgb2hex(a).hex);var i=function(e,t){-1!=e.indexOf("rgb")||-1!=e.indexOf("#")&&(e=hex2rgb(e));for(var n=rgb2hex(e),o=!1,r=0;r<W.length;r++)if(W[r].hex==n.hex)return o=!0,r;if(0==o)return W.push(n),W.length-1}(a),s=d[e][1];$(r).text(s),B.push(new function e(t,n,o,r){this.currentColor=t,this.currentColorId=n,this.correctColor=t,this.correctColorId=n,this.label=o,this.labelSum=r,this.solved=!1,e.prototype.getCurrentColor=function(){return{color:this.currentColor,colorId:this.currentColorId}},e.prototype.setColor=function(e,t){this.currentColor=e,this.currentColorId=t,this.checkSolved()},e.prototype.getCorrectColor=function(){return{color:this.correctColor,colorId:this.correctColorId}},e.prototype.label=function(e,t){return e+"-"+t},e.prototype.labelSum=function(e,t){return parseInt(e)-parseInt(t)},e.prototype.checkSolved=function(){this.currentColorId==this.correctColorId?this.solved=!0:this.solved=!1}}(a,void 0,s,window.stage[i].sum)),t.node.children[1].style.fill="#000",t.node.children[1].style.pointerEvents="none",Snap("#mainImage #"+n+" #"+o).attr({fill:_}),B[e].setColor(_,-999)}),window.bucketColors=W,r(),$.each(B,function(e,t){for(var n=0;F[n].hex!=t.correctColor;)n<64&&n++;t.correctColorId=n}),$.each(B,function(e,t){F[t.correctColorId].addUsedIn(e)})}),window.tanjaArray=B},window.handleAudio=function(e){var t=createjs.Sound.play(e);"instructions_audio"==e&&(window.audioCurrentlyPlaying=!0,t.on("complete",n))},a.prototype.addUsedIn=function(e){this.usedIn.push(e)},a.prototype.getUsedin=function(){return this.usedIn},a.prototype.setSolved=function(e){this.solved=e},a.prototype.getSolved=function(){return this.solved}}();var selectedBucketId=0;$("#mainImage").on("click",function(e){var t,n=e.target.parentElement.id;if(e.target.parentElement.id){try{null==(t=Snap("#mainImage").select("#"+n+" path"))&&null==(t=Snap("#mainImage").select("#"+n+" polygon"))&&(t=Snap("#mainImage").select("#"+n+" compoundPath"));try{var o=n.match(/\d+$/),r=-1;if(o&&(r=o[0]),(r=parseInt(r,10))<0)return;r=window.tanjaArray.length-1-r;window.tanjaArray[r].getCurrentColor();var a=t.attr("fill");null!=a.match(/^(rgb|hsl)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/)&&(a=rgb2hex(a).hex);for(var i=0;i<bucketColors.length&&bucketColors[i].hex!=a;)i++;if(i==bucketColors.length&&(i=-1),-1!=a.indexOf("rgb"))a=a;else if(-1==a.indexOf("#"))throw"Color names disabled in this lesson";a==drawingColor.hex?(t.animate({fill:"#ffffff"},300,mina.easeout),window.tanjaArray[r].setColor("#ffffff",-999)):(t.animate({fill:drawingColor.hex},300,mina.easeout),window.tanjaArray[r].setColor(drawingColor.hex,window.drawingColor.index)),updateFeedbackItemsSimplified()}catch(e){}}catch(e){return}window.tanjaArray[r].checkSolved()}}),$(document).on("click",".buckets",function(e){selectedBucketId=$(this).index(),window.drawingColor=window.myBuckets[$(this).index()],window.drawingColor.index=$(this).attr("id").split("_")[1]}),$(".finalGreeting .finalGreeting_button_playagain").on("click",function(){$(".finalGreeting").removeClass("off").addClass("on"),playAgain()}),$("#closeButton").on("click",function(){window.history.back()}),$(".closeButton.finalGreeting__closeBtn").on("click",function(){window.history.back()});var ResizeToFullWindow=function(){function e(){window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;$("body").width(),$("body").height();var e=$("body").width()/1024,t=$("body").height()/768,n=e<t?e:t;window.scaleRatio=n,$(o[0]).css({transform:"scale("+n+") translateX(-50%)","-webkit-transform":"scale("+n+") translateX(-50%)","-moz-transform":"scale("+n+") translateX(-50%)","-o-transform":"scale("+n+") translateX(-50%)","-ms-transform":"scale("+n+") translateX(-50%)",left:"50%"})}var o=$("#wrapper");e(),window.addEventListener("resize",e)}();
=======
"use strict";function getRGB(e){return-1!=e.indexOf("rgb")?e:-1!=e.indexOf("#")?hex2rgb(e):colorName2rgb(e)}function updateFeedbackItemsSimplified(){var e=$(".feedback-items.active").length;$(".feedback-items").removeClass("active"),$.each(window.tanjaArray,function(e,t){1==t.solved&&$(".feedback-items").not(".active").last().addClass("active")}),e<$(".feedback-items.active").length&&handleAudio("correct_audio"),$(".feedback-items.active").length==number_of_examples&&($("#bucketsWrapper").addClass("disabled"),$("#wrapper").addClass("disabled"),setTimeout(function(){var e=Math.floor(2*Math.random());handleAudio("congratulations-"+e)},500),setTimeout(function(){$(".finalGreeting").removeClass("off").addClass("on")},2927))}function playAgain(){$(".finalGreeting").removeClass("on").addClass("off"),$("#bucketsWrapper").removeClass("disabled"),$("#wrapper").removeClass("disabled"),$("#mainImage").empty(),$(".buckets").removeClass("solved missed"),$(".feedback-items").removeClass("active"),$("#bucketsWrapper .buckets:nth-child(1)").trigger("click"),loadMainImage(backgroundToBeColored)}function rgb2hex(e){function t(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}for(var n,o=e.toString().split(","),r=o[0],a=r.slice(4,r.length),i=parseInt(a,"10"),s=t(i.toString(16),2),l=o[1],d=l.slice(1,l.length),c=parseInt(d,"10"),u=t(c.toString(16),2),p=o[2],g=p.slice(1,p.length-1),f=parseInt(g,"10"),h=t(f.toString(16),2),m=i,w=c,b=f,v=[m,w,b],k=0,C=v[k],$=256,y=0;y<v.length;y++)v[y]>v[k]&&(C=v[k=y]),v[y]<$&&($=v[y]);return n=1==k?(w-b)/(C-$):2==k?2+(b-m)/(C-$):4+(m-w)/(C-$),isNaN(n)&&(n=6-(m+w+b)/5120),{hex:"#"+s+u+h,hue:n}}function hex2rgb(e){if(4==e.length){(n=/^#?([a-f\d]{1})([a-f\d]{1})([a-f\d]{1})$/i.exec(e))[1]+=n[1],n[2]+=n[2],n[3]+=n[3];var t="";return t+="rgb(",t+=parseInt(n[1],16),t+=", ",t+=parseInt(n[2],16),t+=", ",t+=parseInt(n[3],16),t+=")"}var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);t="";return t+="rgb(",t+=parseInt(n[1],16),t+=", ",t+=parseInt(n[2],16),t+=", ",t+=parseInt(n[3],16),t+=")"}!function(){function t(e){FastClick.attach(document.body);try{e.parameters.background_color[0].value,d=e.parameters.background_image[0].value,c=e.parameters.background_size[0].value,u=e.parameters.background_position[0].value,g=e.parameters.header_allCaps[0].value,f=e.parameters.header_fontBold[0].value,h=e.parameters.header_textAlignCenter[0].value,m=e.parameters.header_fontSize[0].value,b=e.parameters.congratulations_bgr_color[0].value,_=e.parameters.uncoloredImgColor[0].value,window.uncoloredImgColor=_,l=e.texts.page_title[0].written,p=e.texts.header_text[0].written}catch(e){}var t;!function(){if($("#mainImage").css({"background-color":_}),0<I.length)try{$("body").css({"background-image":I,"background-size":c,"background-position":u})}catch(e){}else try{$("body").css({"background-size":c,"background-position":u,"background-image":d})}catch(e){}}(),function(){document.title=l,$("#headingWrapper #heading p").html(p),"TRUE"==g.toUpperCase()&&$("#headingWrapper #heading p").css({"text-transform":"uppercase"});"TRUE"==f.toUpperCase()&&$("#headingWrapper #heading p").css({"font-weight":"bold"});"TRUE"==h.toUpperCase()&&$("#headingWrapper #heading p").css({"text-align":"center"});$("#headingWrapper #heading p").css({"font-size":m+"px"})}(),$(".finalGreeting").css({"background-color":b,"background-image":"url("+C+")",width:"100%",height:"100%","background-repeat":"no-repeat","background-size":"1024px 672px"}),$(".finalGreeting .finalGreeting_button_playagain").css({"background-image":"url("+y+")"}),window.bucketColors=W,window.number_of_examples=T,loadMainImage(w),$.when(function(){var e=new createjs.LoadQueue;createjs.Sound.alternateExtensions=["mp3"],e.installPlugin(createjs.Sound),e.on("complete",function(e){n.resolve("sounds ready")}),e.on("error",o);for(var t=0;t<k.length;t++)e.loadFile({id:"congratulations-"+t,src:k[t].uri});v.length&&e.loadFile({id:"instructions_audio",src:v});e.loadFile({id:"correct_audio",src:x});var n=$.Deferred();return n.promise()}(),(t=$.Deferred(),setTimeout(function(){t.resolve("preloader timeout passed")},s),t.promise())).done(function(){$(".preloader-wrapper").removeClass("active"),handleAudio("instructions_audio"),setTimeout(function(){TweenMax.staggerTo($(".buckets"),.05,{left:"0px"},-.06)},65),setTimeout(function(){$("#bucketsWrapper .buckets:nth-child(1)").trigger("click"),$("#wrapper").removeClass("disabled")},100)})}function n(e){window.audioCurrentlyPlaying=!1}function o(e){}function a(e){this.hex=e,this.usedIn=[],this.solved=!1}function r(){if(!(0<$(".buckets").length)){$.each(W,function(e,t){var n=new a(t.hex);B.push(n)}),window.myBuckets=B,T=F.length,window.number_of_examples=T,S=W[0];var r=new Array;!function(n){for(var o=0,e=function(t){$("#bucketsWrapper").append("<div class='buckets' id='bucket_"+t+"'></div>");var e=$("#bucket_"+t);e.css({left:-$(window).width()+"px"}),$(e).append("<div class='bucket__label'>"+E[t]+"</div>"),Snap.load("assets/images/stanjak_v.svg",function(e){o++,r[t]=e,o>=n.length&&function(e){for(var t=void 0,n=function(n){Snap("#bucket_"+n).append(r[n]),t=Snap("#bucket_"+n+" #colored").selectAll("path"),$.each(t,function(e,t){Snap(t.node).attr("fill",B[n].hex)})},o=0;o<e.length;o++)n(o)}(r)})},t=0;t<n.length;t++)e(t);!function(e){for(var t=0;t<e;t++)$("#feedbackWrapper #feedbackContent").append("<div class='feedback-items'></div>");$("#wrapper #feedbackWrapper").css({"background-color":"#000"})}(T)}(W),$(".buckets").on("click",function(e,t){A=B[$(this).index()].hex,e,$(".buckets").removeClass("active"),$(this).addClass("active"),window.drawingColor=S,window.drawingColorIndex=A})}}(new Date).getTime(),performance.timing.navigationStart;var e=window.performance.timing,i=-(e.loadEventEnd-e.navigationStart),s=100*parseInt(i/1e3%60);$(".loadbar").animate({width:"100%"},s);var l,d,c,u,p,g,f,h,m,w,b,v,k,C,y,x,I,_,S,A,j="settings.json",T=0,W=[];window.audioCurrentlyPlaying=!1,window.bucketColors;var B=[];window.stage=[],window.stage=[1,2,3,4,5,6,7,8,9,10],$.getJSON("files.json").done(function(e){w=e.backgroundToBeColored,window.backgroundToBeColored=w;try{v=e.supportFiles.instructions_audio[0].uri,k=e.supportFiles.congratulations_audio,window.congratulations_audio_length=k.length,C=e.supportFiles.congratulations_image[0].uri,y=e.supportFiles.congratulations_button[0].uri,x=e.supportFiles.correct_audio[0].uri,I=e.supportFiles.background_image_from_url[0].uri}catch(e){}$.getJSON(j).done(t).fail(function(e){})}).fail(function(e){});var F=[];window.tanjaArray;var E=[];window.loadMainImage=function(e){F=[];var l=[["","1:1"],["","8:4"],["","12:6"],["","57:19"],["","28:7"],["","9:9"],["","27:9"],["","12:4"],["","20:5"],["","12:3"],["","16:4"],["","25:5"],["","36:6"],["","42:7"],["","28:4"],["","49:7"],["","35:5"],["","24:3"],["","90:10"],["","81:9"],["","100:10"]];E=[1,2,3,4,5,6,7,8,9,10],window.tanjaArray=[];var t=Snap("#mainImage");Snap.load(e,function(e){t.append(e),$.each(Snap("#mainImage").selectAll("g[id^=g]"),function(e,t){var n=this.node.id,o=(t.node.children[0],t.node.children[0].id),r=t.node.children[1],a=Snap(t).node.children[0].style.fill;null!=a.match(/^(rgb|hsl)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/)&&(a=rgb2hex(a).hex);var i=function(e,t){-1!=e.indexOf("rgb")||-1!=e.indexOf("#")&&(e=hex2rgb(e));for(var n=rgb2hex(e),o=!1,r=0;r<W.length;r++)if(W[r].hex==n.hex)return o=!0,r;if(0==o)return W.push(n),W.length-1}(a),s=l[e][1];$(r).text(s),F.push(new function e(t,n,o,r){this.currentColor=t,this.currentColorId=n,this.correctColor=t,this.correctColorId=n,this.label=o,this.labelSum=r,this.solved=!1,e.prototype.getCurrentColor=function(){return{color:this.currentColor,colorId:this.currentColorId}},e.prototype.setColor=function(e,t){this.currentColor=e,this.currentColorId=t,this.checkSolved()},e.prototype.getCorrectColor=function(){return{color:this.correctColor,colorId:this.correctColorId}},e.prototype.label=function(e,t){return e+"-"+t},e.prototype.labelSum=function(e,t){return parseInt(e)-parseInt(t)},e.prototype.checkSolved=function(){this.currentColorId==this.correctColorId?this.solved=!0:this.solved=!1}}(a,void 0,s,window.stage[i].sum)),t.node.children[1].style.fill="#000",t.node.children[1].style.pointerEvents="none",Snap("#mainImage #"+n+" #"+o).attr({fill:_}),F[e].setColor(_,-999)}),window.bucketColors=W,r(),$.each(F,function(e,t){for(var n=0;B[n].hex!=t.correctColor;)n<64&&n++;t.correctColorId=n}),$.each(F,function(e,t){B[t.correctColorId].addUsedIn(e)})}),window.tanjaArray=F},window.handleAudio=function(e){var t=createjs.Sound.play(e);"instructions_audio"==e&&(window.audioCurrentlyPlaying=!0,t.on("complete",n))},a.prototype.addUsedIn=function(e){this.usedIn.push(e)},a.prototype.getUsedin=function(){return this.usedIn},a.prototype.setSolved=function(e){this.solved=e},a.prototype.getSolved=function(){return this.solved}}();var selectedBucketId=0;$("#mainImage").on("click",function(e){var t,n=e.target.parentElement.id;if(e.target.parentElement.id){try{null==(t=Snap("#mainImage").select("#"+n+" path"))&&null==(t=Snap("#mainImage").select("#"+n+" polygon"))&&(t=Snap("#mainImage").select("#"+n+" compoundPath"));try{var o=n.match(/\d+$/),r=-1;if(o&&(r=o[0]),(r=parseInt(r,10))<0)return;r=window.tanjaArray.length-1-r;window.tanjaArray[r].getCurrentColor();var a=t.attr("fill");null!=a.match(/^(rgb|hsl)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/)&&(a=rgb2hex(a).hex);for(var i=0;i<bucketColors.length&&bucketColors[i].hex!=a;)i++;if(i==bucketColors.length&&(i=-1),-1!=a.indexOf("rgb"))a=a;else if(-1==a.indexOf("#"))throw"Color names disabled in this lesson";a==drawingColor.hex?(t.animate({fill:"#ffffff"},300,mina.easeout),window.tanjaArray[r].setColor("#ffffff",-999)):(t.animate({fill:drawingColor.hex},300,mina.easeout),window.tanjaArray[r].setColor(drawingColor.hex,window.drawingColor.index)),updateFeedbackItemsSimplified()}catch(e){}}catch(e){return}window.tanjaArray[r].checkSolved()}}),$(document).on("click",".buckets",function(e){selectedBucketId=$(this).index(),window.drawingColor=window.myBuckets[$(this).index()],window.drawingColor.index=$(this).attr("id").split("_")[1]}),$(".finalGreeting .finalGreeting_button_playagain").on("click",function(){$(".finalGreeting").removeClass("off").addClass("on"),playAgain()}),$("#closeButton").on("click",function(){window.history.back()}),$(".closeButton.finalGreeting__closeBtn").on("click",function(){window.history.back()}),$(".helpButton").on("click",function(){1==window.audioCurrentlyPlaying?(createjs.Sound.stop(),window.audioCurrentlyPlaying=!1):handleAudio("instructions_audio")});var ResizeToFullWindow=function(){function e(){window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;$("body").width(),$("body").height();var e,t=$("body").width()/1024,n=$("body").height()/768,o=t<n?t:n;e=t<n?"w":"h",window.scaleRatio=o,window.scaleRatioLabel=e,$(r[0]).css({transform:"scale("+o+") translateX(-50%)","-webkit-transform":"scale("+o+") translateX(-50%)","-moz-transform":"scale("+o+") translateX(-50%)","-o-transform":"scale("+o+") translateX(-50%)","-ms-transform":"scale("+o+") translateX(-50%)",left:"50%"})}var r=$("#wrapper");e();var o,a,i,s,t=(o=function(){e()},a=50,function(){var e=this,t=arguments,n=i&&!s;clearTimeout(s),s=setTimeout(function(){s=null,i||o.apply(e,t)},a),n&&o.apply(e,t)});return window.addEventListener("resize",t),{scale:e}}();
>>>>>>> 963b32c6c3d1ca7a34ecb930ccd4b647f1d325a4
